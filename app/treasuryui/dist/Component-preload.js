//@ui5-bundle treasuryui/Component-preload.js
sap.ui.require.preload({
	"treasuryui/Component.js":function(){
sap.ui.define(["sap/ui/core/UIComponent","treasuryui/model/models","treasuryui/model/chatModel"],(e,t,i)=>{"use strict";return e.extend("treasuryui.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(t.createDeviceModel(),"device");this.getRouter().initialize();this.setModel(new i,"chatModel")}})});
},
	"treasuryui/controller/App.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller"],e=>{"use strict";return e.extend("treasuryui.controller.App",{onInit(){},onAfterRendering(){const e=this.getView().byId("sideNavigation");e.setExpanded(false)},onSideNavButtonPress:function(){const e=this.getView().byId("sideNavigation");const t=e.getExpanded();e.setExpanded(!t)},onItemSelect:function(e){const t=e?.getSource()?.getSelectedKey();this.getOwnerComponent().getRouter().navTo(t)}})});
},
	"treasuryui/controller/TreasuryMainView.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageBox","sap/m/PDFViewer","sap/m/BusyDialog","sap/m/MessageToast"],(e,t,s,a,n)=>{"use strict";return e.extend("treasuryui.controller.TreasuryMainView",{onInit(){let e=new sap.ui.model.json.JSONModel;this.getView().setModel(e)},getBaseURL:function(){var e=this.getOwnerComponent().getManifestEntry("/sap.app/id");var t=e.replaceAll(".","/");var s=jQuery.sap.getModulePath(t);return s},onfetchCSRF:async function(e){const t=await fetch(e,{method:"GET",headers:{"X-CSRF-Token":"Fetch"}});const s=t.headers.get("X-CSRF-Token");if(!s){throw new Error("Failed to fetch CSRF token")}return s},onSelectDocument:function(e){var t=e.getSource();var s=t.getSelectedItems();var a=s.map(function(e){return"File: "+e.getText()});a.push("Question: ");var n=a.join("\n");this.byId("chatFeedInput").setValue(n)},onUserChat:async function(){const e=this.getOwnerComponent().getModel("chatModel");const t=this.getView();const s=this.byId("chatFeedInput").getValue();e.setSubmit(false);e.setvisibleResult(false);const a=new sap.m.BusyDialog({title:"Busy Indicator",text:"Generating response. Please standby.."});a.open();t.setBusy(true);await Promise.resolve();try{const t=await this.onfetchData(s);e.setResult(t);e.setvisibleResult(true);console.log(t)}catch(e){console.error("Chat fetch error:",e);sap.m.MessageToast.show("Failed to get response.")}finally{a.close();t.setBusy(false)}},onfetchData:async function(e){const t=this.getBaseURL()+"/odata/v4/catalog/chatResponse";const s=this.getBaseURL()+"/odata/v4/catalog/";const a=await this.onfetchCSRF(s);try{let s=await fetch(t,{method:"POST",headers:{"X-CSRF-Token":a,"Content-Type":"application/json"},body:JSON.stringify({prompt:e})});if(!s.ok){throw new Error(`HTTP error! Status: ${s.status}`)}const n=await s.json();const o=n.d.chatResponse.result;console.log("API Response:",o);return o}catch(e){console.error("API Error:",e)}},onGenerateSummary:async function(e){var s=this.byId("multiCombo").getSelectedItems();var a=this.byId("chatFeedInput");if(s.length>1||s.length==0){t.error("Please select a single file to Generate Summary.");return}var n=s[0].getText();a.setValue(`Research Summary: ${n}`);this._callSummaryApi("Research Summary: C-PressRelease-2Q25.pdf")},getBaseURL:function(){var e=this.getOwnerComponent().getManifestEntry("/sap.app/id");var t=e.replaceAll(".","/");var s=jQuery.sap.getModulePath(t);return s},_callSummaryApi:async function(e){const t=new a({text:"Fetching summary..."});t.open();var s=this.getBaseURL()+"/user-api/currentUser";try{const a=await fetch(s,{method:"GET",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e})});if(!a.ok){throw new Error(`HTTP error! Status: ${a.status}`)}const r=await a.json();if(r.success&&Array.isArray(r.summary_files)){var o=this._displayPdfFiles(r.summary_files);t.close();return o}else{n.show("No summaries returned.")}}catch(e){}},_displayPdfFiles:function(e){const t=this.byId("pdfContainer");t.removeAllItems();e.forEach(e=>{const s=this._createPdfViewer(e.data,e.filename);t.addItem(s)})},_createPdfViewer:function(e,t){const a=atob(e);const n=new Uint8Array(a.length);for(let e=0;e<a.length;e++){n[e]=a.charCodeAt(e)}const o=new Blob([n],{type:"application/pdf"});const r=URL.createObjectURL(o);return new s({source:r,title:t,width:"100%",height:"600px",showDownloadButton:true})}})});
},
	"treasuryui/controller/TreasuryReport.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],(e,t)=>{"use strict";return e.extend("treasuryui.controller.ReportsView",{onInit(){const e=new t({files:[],classifedCheck:false});this.getView().setModel(e)},onFilesSelected:function(e){const t=this.getView().getModel();var o=e.getParameter("files");const n=[];for(let e=0;e<o.length;e++){n.push({name:o[e].name,radioIndex:-1})}t.setProperty("/files",n);this._updateButtonState()},onRadioSelected:function(){this._updateButtonState()},_updateButtonState:function(){const e=this.getView().getModel();const t=e.getProperty("/files");const o=t.length>0&&t.every(e=>e.radioIndex!==-1);e.setProperty("/classifiedcheck",o)},onAttachmentDelete:function(e){var t=e.getSource()}})});
},
	"treasuryui/fragment/FrameHeader.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:tnt="sap.tnt"><tnt:ToolHeader id="toolHeader"><Button\n\t\t\t\t\tid="sideNavigationToggleButton"\n\t\t\t\t\ticon="sap-icon://menu2"\n\t\t\t\t\ttype="Transparent"\n\t\t\t\t\tpress=".onSideNavButtonPress"\n          class="sideNavigationToggleButton"><layoutData><OverflowToolbarLayoutData priority="NeverOverflow" /></layoutData></Button><ToolbarSpacer width="20px" /><Image\n                id="logo"\n                src="{imageModel>/path}/../images/logo.png"\n                decorative="true"\n                class="logo"/></tnt:ToolHeader></core:FragmentDefinition>',
	"treasuryui/fragment/FrameSideContent.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n\txmlns:core="sap.ui.core"\n    xmlns:tnt="sap.tnt"><tnt:SideNavigation id="sideNavigation"\n            expanded="false"\n            itemSelect="onItemSelect"><tnt:NavigationList id="mainList" class="navListIcon"><tnt:NavigationListItem id="chat" text="Ask Treasury" tooltip="Ask Treasury" icon="sap-icon://bbyd-dashboard" key="home"/><tnt:NavigationListItem id="Reports" text="{i18n>reports}" tooltip="{i18n>reports}" icon="sap-icon://manager-insight" key="Reports" /></tnt:NavigationList></tnt:SideNavigation></core:FragmentDefinition>',
	"treasuryui/fragment/RejectionDialog.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Dialog\n    id="rejectionDialog"\n    title="Rejection Comment"\n    draggable="true"\n    resizable="true"\n    contentWidth="30rem"\n    type="Message"\n    class="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer"><TextArea id="rejectionComment" rows="5" placeholder="Enter reason for rejection..." width="100%" /><beginButton><Button text="Submit" type="Reject" press=".onSubmitRejection"/></beginButton><endButton><Button text="Cancel" press=".onCancelRejection"/></endButton></Dialog></core:FragmentDefinition>',
	"treasuryui/fragment/chatBox.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n    xmlns:f="sap.f"\n    xmlns:core="sap.ui.core"\n    xmlns:u="sap.ui.unified"\n    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><VBox class="ChatBox dasTextAreaInput"  ><FlexBox id="ChatBotresult" height="5rem" ><TextArea id="chatFeedInput" width="96%" height="500px" class="chattextarea" liveChange="userlivechange"  value="{chatModel>/userMessage}" enabled="{= !${chatModel>/busyIndicator} }" rows="1" growingMaxLines="23" placeholder="{chatModel>/placeHolder}" growing="true"><layoutData><FlexItemData growFactor="1" /></layoutData></TextArea></FlexBox><FlexBox id="chatBusyIndicator1" visible="{chatModel>/busyIndicator}" justifyContent="Center" alignItems="Center" class="busyBox"></FlexBox><FlexBox id="btncontrolls" justifyContent= "Start" alignItems="Start" class="busyBox"><Button text="Ask FinSight"   press="onUserChat" /><Button text="Summary"   press="onGenerateSummary" /></FlexBox></VBox></core:FragmentDefinition>\n',
	"treasuryui/fragment/chatBoxbackup.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n    xmlns:f="sap.f"\n    xmlns:core="sap.ui.core"\n    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><FlexBox id="ChatBot" class="ChatBox" direction="Column"><FlexBox direction="Column" class="chatFlex hide-scroll"><ScrollContainer id="scrollChatBox" class="hide-scroll" height="100%" width="100%" vertical="true" horizontal="false"><FlexBox id="dynamicChatBox" class="dynamicChatBox" direction="Column"><FlexBox id=\'historyItems\' items="{\n                        path: \'chatModel>/messages\'\n                    }" direction="Column"><items><FlexBox direction="Column"><FlexBox direction="Column" visible="{= %{chatModel>message} !== \'\' &amp;&amp; %{chatModel>message} !== null}"><FlexBox alignItems="Center" justifyContent="End" class="userBox" visible="{= %{chatModel>actor} === \'user\'}"><FormattedText htmlText="{chatModel>message}" class="userMessage" /></FlexBox><FlexBox direction="Column" justifyContent="Start" class="agentBox" visible="{= %{chatModel>actor} === \'bot\'}"><FormattedText htmlText="{chatModel>message}" class="agentMessage response-content" /><HBox class="messageEmotions" id="messageEmotions"><Button icon="sap-icon://copy" type="Transparent" press="onChatCopy" tooltip="{i18n>copyTooltip}"/><Button icon="sap-icon://synchronize" type="Transparent" press="onChatRegenerate" tooltip="{i18n>regenerate}" app:userMessage="{chatModel>userMessage}"/><Button icon="sap-icon://download" type="Transparent" press="onChatExport" tooltip="{i18n>export}" app:message="{chatModel>message}"/></HBox></FlexBox></FlexBox></FlexBox></items></FlexBox></FlexBox><FlexBox id="chatBusyIndicator" visible="{chatModel>/busyIndicator}" justifyContent="Center" alignItems="Center" class="busyBox"><BusyIndicator size="1rem" class="busyIndicator"/></FlexBox></ScrollContainer></FlexBox><FlexBox class="dasTextAreaInput sapUiTinyMarginBeginEnd sapUiTinyMarginBottom" alignItems="Start" visible="{= !${chatModel>/isMinimize}  &amp;&amp;  !${chatModel>/showHistory}}"><TextArea id="chatFeedInput" width="96%" class="chattextarea" liveChange="userlivechange" value="{chatModel>/recentQuery}" enabled="{= !${chatModel>/busyIndicator} }" rows="1" growingMaxLines="23" placeholder="Message" growing="true"><layoutData><FlexItemData growFactor="1" /></layoutData></TextArea><Button id="chatFeedSubmit" icon="sap-icon://paper-plane" type="Emphasized" press="onUserChat" class="dasChatInputSubmitButton sapUiTinyMargin"  enabled="{chatModel>/enableSubmit}" /></FlexBox></FlexBox></core:FragmentDefinition>\n',
	"treasuryui/fragment/resultBox.fragment.xml":'<core:FragmentDefinition xmlns="sap.m"\n\n    xmlns:html="http://www.w3.org/1999/xhtml"\n    xmlns:f="sap.f"\n    xmlns:core="sap.ui.core"\n    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"><FlexBox id="ChatBotResult" class="result" visible="true" direction="Column"><FlexBox class="summaryBox"><Title  text="SUMMARY" class="summaryTitle"></Title><HBox class="messageEmotions" id="messageEmotions"><Button icon="sap-icon://copy" type="Transparent" press="onChatCopy" tooltip="{i18n>copyTooltip}"/><Button icon="sap-icon://download" type="Transparent" press="onChatExport" tooltip="{i18n>export}" app:message="chatModel>/result"/></HBox><VBox id="pdfContainer" renderType="Bare" class="sapUiContentPadding"/></FlexBox><FlexBox class="responseTextBox response-content"><FormattedText htmlText="{chatModel>/result}" class="response-content" /></FlexBox></FlexBox></core:FragmentDefinition>\n',
	"treasuryui/i18n/i18n.properties":'# This is the resource bundle for treasuryui\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Treasury\n\n#YDES: Application description\nappDescription=An SAP Fiori application.\n#XTIT: Main view title\ntitle=Treasury',
	"treasuryui/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"treasuryui","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.18.0","toolsId":"f1d71c23-0929-422c-b771-8a6a4218ea53"},"dataSources":{"mainService":{"uri":"/odata/v4/catalog/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}},"treasuryUpload":{"uri":"/treasuryUpload/","type":"http"}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":true,"dependencies":{"minUI5Version":"1.136.1","libs":{"sap.m":{},"sap.ui.core":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"treasuryui.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","controlAggregation":"pages","controlId":"app","transition":"slide","type":"View","viewType":"XML","path":"treasuryui.view","async":true,"viewPath":"treasuryui.view"},"routes":[{"name":"RouteTreasuryMainView","pattern":":?query:","target":["TargetTreasuryMainView"]},{"pattern":"home","name":"home","target":"HomeView"},{"pattern":"Reports","name":"Reports","target":"ReportsView"}],"targets":{"TargetTreasuryMainView":{"id":"TreasuryMainView","name":"TreasuryMainView"},"HomeView":{"id":"TreasuryMainView","name":"TreasuryMainView"},"ReportsView":{"id":"ReportsView","name":"ReportsView"}}},"rootView":{"viewName":"treasuryui.view.App","type":"XML","id":"App","async":true}}}',
	"treasuryui/model/chatModel.js":function(){
sap.ui.define(["sap/ui/model/json/JSONModel"],function(e){"use strict";const t={busyIndicator:false,enableSubmit:false,visibleResult:false,enableUpload:true,enableQuery:true,userMessage:"",placeHolder:"Get Started by choosing your file or entering a query to Intellibase",busyText:"",result:"",maker:true,checker:true};return e.extend("com.sap.shae.flp.plugins.homepage.chatModel",{constructor:function(){e.prototype.constructor.apply(this,arguments);this.reset()},reset:function(){this.setProperty("/",Object.create(t))},setSubmit:function(e){this.setProperty("/enableSubmit",e)},setvisibleResult:function(e){this.setProperty("/visibleResult",e)},setResult:function(e){this.setProperty("/result",e)},setbusyIndicator:function(e){this.setProperty("/busyIndicator",e)},setenableUpload:function(e){this.setProperty("/enableUpload",e)},setenableQuery:function(e){this.setProperty("/enableQuery",e)},setbusyText:function(e){this.setProperty("/busyText",e)}})});
},
	"treasuryui/model/models.js":function(){
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"treasuryui/view/App.view.xml":'<mvc:View controllerName="treasuryui.controller.App"\n    xmlns:html="http://www.w3.org/1999/xhtml"\n    xmlns:mvc="sap.ui.core.mvc" displayBlock="true"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:uxap="sap.uxap"\n    xmlns:tnt="sap.tnt"><tnt:ToolPage id="toolPage"><tnt:header><core:Fragment fragmentName="treasuryui.fragment.FrameHeader" type="XML"/></tnt:header><tnt:sideContent><core:Fragment fragmentName="treasuryui.fragment.FrameSideContent" type="XML"/></tnt:sideContent><tnt:mainContents><App id="app"/></tnt:mainContents></tnt:ToolPage></mvc:View>',
	"treasuryui/view/ReportsView.view.xml":'<mvc:View xmlns:table="sap.ui.table" xmlns:unified="sap.ui.unified" xmlns:mvc="sap.ui.core.mvc"\n          xmlns="sap.m"\n          xmlns:core="sap.ui.core"\n          xmlns:ui="sap.ui.core"\n          controllerName="treasuryui.controller.TreasuryReport"\n          xmlns:upload="sap.m.upload"><Page id="reportsPage" title="Upload Content"><content><unified:FileUploader\n    id="fileUploader"\n    multiple="true"\n    change="onFilesSelected"\n    buttonText="Add Attachment"\n    buttonOnly="true"/><List id="fileList" items="{/files}"><CustomListItem><VBox class="fileSection"><Text text="{name}"/><RadioButtonGroup columns="2" selectedIndex="{/radioIndex}" select=".onRadioSelected"/><HBox><Text text="To be used in: " class="textPadding"/><RadioButton text="QnA"/><RadioButton text="Summary"/><Button icon="sap-icon://delete" press="onAttachmentDelete" /></HBox></VBox></CustomListItem></List><IconTabBar id="iconTabBar"><items><IconTabFilter id="tabQnA" text="QnA"><table:Table id="tableQnA"/></IconTabFilter><IconTabFilter id="tabSummary" text="Summary"><table:Table id="tableSummary"/></IconTabFilter></items></IconTabBar></content></Page></mvc:View>\n\n\n',
	"treasuryui/view/TreasuryMainView.view.xml":'<mvc:View xmlns:unified="sap.ui.unified" controllerName="treasuryui.controller.TreasuryMainView"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n\txmlns:uxap="sap.uxap"\n\txmlns:tnt="sap.tnt"\n    \n    ><Page id="page" title="{i18n>title}"><content><FlexBox direction="Column" class="earningsBox"><FlexBox id="chatFlexBox" class="ChatFlexBox" direction="Column"><Title text="How can I help you today?" textAlign="Center" class="TitleFlexBox"/><HBox justifyContent="End"><MultiComboBox id="multiCombo" selectionChange="onSelectDocument" class="comboBox" placeholder="Choose files to analyze"><core:Item key="1" text="SCB_InvestorPresentation_1Q25.pdf" /><core:Item key="2" text="SCB_PressRelease_1Q25.pdf" /><core:Item key="3" text="SCB_Transcripts_1Q25.pdf" /></MultiComboBox></HBox><core:Fragment fragmentName="treasuryui.fragment.chatBox" type="XML"/></FlexBox><FlexBox id="resultFlexBox" class="ResultFlexBox" visible="{chatModel>/visibleResult}"><core:Fragment fragmentName="treasuryui.fragment.resultBox" type="XML"/></FlexBox></FlexBox></content></Page></mvc:View>'
});
//# sourceMappingURL=Component-preload.js.map
