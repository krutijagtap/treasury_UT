{"version":3,"file":"TreasuryMainView.controller.js","names":["sap","ui","define","Controller","MessageBox","PDFViewer","BusyDialog","MessageToast","extend","onInit","oModel","model","json","JSONModel","this","getView","setModel","onBeforeShow","getModel","refresh","onChatCopy","oChatBox","byId","domRef","getDomRef","m","show","message","innerText","navigator","clipboard","writeText","then","catch","err","console","error","onChatExport","async","window","jspdf","html2canvas","jsPDF","userInput","getProperty","wrapper","document","createElement","style","width","padding","background","fontFamily","position","top","left","body","appendChild","userInputBox","borderRadius","marginBottom","border","headerText","textContent","fontSize","fontWeight","color","userInputText","responseClone","margin","children","Array","from","forEach","child","cloneChild","cloneNode","maxHeight","overflow","Promise","resolve","requestAnimationFrame","canvas","scale","useCORS","scrollY","windowWidth","scrollWidth","windowHeight","scrollHeight","imgData","toDataURL","pdf","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","imgWidth","imgHeight","height","heightLeft","addImage","addPage","save","removeChild","onfetchCSRF","url","response","fetch","method","headers","token","get","Error","onSelectDocument","oEvent","oMultiBox","getSource","aSelectedItems","getSelectedItems","aFiles","map","element","getText","push","sFormattedPrompt","join","setValue","onUserChat","chatModel","getOwnerComponent","oView","sInput","getValue","isIntellibase","toLowerCase","includes","keywords","isValid","length","isMalicious","some","keyword","toUpperCase","isRightPrompt","setVisible","setSelectedKeys","setSubmit","setvisibleResult","information","oBusyDialog","title","text","open","setBusy","setProperty","resp","onfetchData","setResult","log","close","chatUrl","getBaseUrl","thisUser","payload","csrf","fetchCsrfToken","oContainer","removeAllItems","controller","AbortController","timeout","setTimeout","abort","user","ok","userDetails","bankId","name","JSON","stringify","signal","clearTimeout","status","data","sCombinedHtml","FINAL_RESULT","SQL_QUERY","onGenerateSummary","aMultiBoxSelectedItems","textArea","oSelectedFile","_callSummaryApi","require","toUrl","credentials","promptMessage","oBusy","success","isArray","summary_files","res","_displayPdfFiles","filesArray","oPdfViewer","_createPdfViewer","filename","addItem","base64","byteCharacters","atob","bytes","Uint8Array","i","charCodeAt","blob","Blob","type","URL","createObjectURL","downloadButton","Button","icon","tooltip","press","a","href","download","click","Panel","content","core","HTML","layoutData","FlexItemData","growFactor"],"sources":["TreasuryMainView-dbg.controller.js"],"mappings":"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","ignoreList":[]}