{"version":3,"file":"TreasuryMainView.controller.js","names":["sap","ui","define","Controller","MessageBox","PDFViewer","BusyDialog","MessageToast","extend","onInit","oModel","model","json","JSONModel","this","getView","setModel","onfetchCSRF","async","url","response","fetch","method","headers","token","get","Error","onSelectDocument","oEvent","oMultiBox","getSource","aSelectedItems","getSelectedItems","aFiles","map","element","getText","push","sFormattedPrompt","join","byId","setValue","onUserChat","chatModel","getOwnerComponent","getModel","oView","sInput","getValue","isValid","toLowerCase","includes","length","setSubmit","setvisibleResult","oBusyDialog","m","title","text","open","setBusy","Promise","resolve","resp","onfetchData","setResult","console","log","err","error","show","close","chatUrl","getBaseUrl","csrf","fetchCsrfToken","oContainer","removeAllItems","controller","AbortController","timeout","setTimeout","abort","payload","message","body","JSON","stringify","signal","clearTimeout","ok","status","data","sResponse","FINAL_RESULT","SQL_QUERY","oHtml","FormattedText","htmlText","addItem","onGenerateSummary","aMultiBoxSelectedItems","textArea","oSelectedFile","_callSummaryApi","require","toUrl","credentials","promptMessage","oBusy","success","Array","isArray","summary_files","res","_displayPdfFiles","filesArray","forEach","file","oPdfViewer","_createPdfViewer","filename","base64","byteCharacters","atob","bytes","Uint8Array","i","charCodeAt","blob","Blob","type","URL","createObjectURL","downloadButton","Button","icon","tooltip","press","a","document","createElement","href","download","click","Panel","headerText","width","height","content","core","HTML","layoutData","FlexItemData","growFactor"],"sources":["TreasuryMainView-dbg.controller.js"],"mappings":"AAAAA,IAAIC,GAAGC,OAAO,CACZ,6BACA,mBACA,kBACA,mBACA,sBACC,CAACC,EAAYC,EAAYC,EAAWC,EAAYC,KACjD,aAEA,OAAOJ,EAAWK,OAAO,yCAA0C,CACjE,MAAAC,GACE,IAAIC,EAAS,IAAIV,IAAIC,GAAGU,MAAMC,KAAKC,UAEnCC,KAAKC,UAAUC,SAASN,EAAQ,gBAClC,EACAO,YAAaC,eAAgBC,GAC3B,MAAMC,QAAiBC,MAAMF,EAAK,CAChCG,OAAQ,MACRC,QAAS,CACP,eAAgB,WAGpB,MAAMC,EAAQJ,EAASG,QAAQE,IAAI,gBACnC,IAAKD,EAAO,CACV,MAAM,IAAIE,MAAM,6BAClB,CACA,OAAOF,CACT,EACAG,iBAAkB,SAAUC,GAC1B,IAAIC,EAAYD,EAAOE,YACvB,IAAIC,EAAiBF,EAAUG,mBAC/B,IAAIC,EAASF,EAAeG,IAAI,SAAUC,GACxC,MAAO,SAAWA,EAAQC,SAC5B,GACAH,EAAOI,KAAK,cACZ,IAAIC,EAAmBL,EAAOM,KAAK,MACnCzB,KAAK0B,KAAK,iBAAiBC,SAASH,EACtC,EAEAI,WAAYxB,iBACV,MAAMyB,EAAY7B,KAAK8B,oBAAoBC,SAAS,aACpD,MAAMC,EAAQhC,KAAKC,UACnB,MAAMgC,EAASjC,KAAK0B,KAAK,iBAAiBQ,WAC1C,IAAIjB,EAAiBjB,KAAK0B,KAAK,cAAcR,mBAC7C,MAAMiB,EAAUF,EAAOG,cAAcC,SAAS,gBAAkBpB,EAAeqB,OAAS,EAExFT,EAAUU,UAAU,OACpBV,EAAUW,iBAAiB,OAG3B,MAAMC,EAAc,IAAIvD,IAAIwD,EAAElD,WAAW,CACvCmD,MAAO,iBACPC,KAAM,0CAERH,EAAYI,OAGZb,EAAMc,QAAQ,YAERC,QAAQC,UAEd,IACE,MAAMC,QAAajD,KAAKkD,YAAYjB,EAAQE,GAE5CN,EAAUsB,UAAUF,GACpBpB,EAAUW,iBAAiB,MAC3BY,QAAQC,IAAIJ,GACZ,OAAOA,CACT,CAAE,MAAOK,GACPF,QAAQG,MAAM,oBAAqBD,GACnCpE,IAAIwD,EAAEjD,aAAa+D,KAAK,0BAC1B,CAAE,QACAf,EAAYgB,QACZzB,EAAMc,QAAQ,MAChB,CACF,EAEAI,YAAa9C,eAAgB6B,EAAQE,GACnC,MAAMuB,EAAU1D,KAAK2D,aAAe,YACpC,MAAMC,EAAO5D,KAAK6D,iBAClB,MAAMC,EAAa9D,KAAK0B,KAAK,gBAC7BoC,EAAWC,iBACX,MAAMC,EAAa,IAAIC,gBACvB,MAAMC,EAAUC,WAAW,KACzBH,EAAWI,SACV,KAIH,IAAKjC,EAAS,CACZ7C,EAAWiE,MAAM,2CACjB,MACF,CACA,MAAMc,EAAU,CAAEC,QAAW,oBAAsBrC,GAEnD,IACE,MAAM3B,QAAiBC,MAAMmD,EAAS,CACpClD,OAAQ,OACRC,QAAS,CACP,eAAgBmD,EAChB,eAAgB,oBAElBW,KAAMC,KAAKC,UAAUJ,GACrBK,OAAQV,EAAWU,SAErBC,aAAaT,GAEb,IAAK5D,EAASsE,GAAI,CAChB,MAAM,IAAIhE,MAAM,uBAAuBN,EAASuE,SAClD,CACA,MAAMC,QAAaxE,EAASR,OAC5B,MAAMiF,EAAYD,EAAKE,aAAe,2BACpC,+DACAF,EAAKG,UAAY,SACnB,MAAMC,EAAQ,IAAIhG,IAAIwD,EAAEyC,cAAc,CACpCC,SAAUL,IAEZjB,EAAWuB,QAAQH,GAEnB9B,QAAQC,IAAI,gBAAiB0B,GAC7B,OAAOjB,CACT,CAAE,MAAOR,GACPF,QAAQC,IAAI,8BAA+BC,EAC7C,CAEF,EAEAgC,kBAAmBlF,eAAgBU,GACjC,IAAIyE,EAAyBvF,KAAK0B,KAAK,cAAcR,mBACrD,IAAIsE,EAAWxF,KAAK0B,KAAK,iBACzB,GAAI6D,EAAuBjD,OAAS,GAAKiD,EAAuBjD,QAAU,EAAG,CAC3EhD,EAAWiE,MAAM,oDACjB,MACF,CACA,IAAIkC,EAAgBF,EAAuB,GAAGjE,UAE9CkE,EAAS7D,SAAS,qBAAqB8D,KACvCzF,KAAK0F,gBAAgB,4CAA6CD,EACpE,EACA9B,WAAY,WACV,OAAOzE,IAAIC,GAAGwG,QAAQC,MAAM,aAC9B,EACA/B,eAAgBzD,iBACd,IAAIC,EAAML,KAAK2D,aACf,MAAMrD,QAAiBC,MAAMF,EAAK,CAChCG,OAAQ,OACRqF,YAAa,UACbpF,QAAS,CACP,eAAgB,WAGpB,MAAMC,EAAQJ,EAASG,QAAQE,IAAI,gBACnC,OAAOD,CACT,EACAgF,gBAAiBtF,eAAgB0F,EAAeL,GAC9C,MAAMM,EAAQ,IAAIvG,EAAW,CAAEoD,KAAM,wBACrCmD,EAAMlD,OAEN,MAAMhB,EAAY7B,KAAK8B,oBAAoBC,SAAS,aACpD,MAAM2B,EAAU1D,KAAK2D,aAAe,YACpC,MAAMC,EAAO5D,KAAK6D,iBAClB,MAAMQ,EAAU,CACdC,QAAW,qBAAuBmB,GAGpC5D,EAAUU,UAAU,OACpBV,EAAUW,iBAAiB,OAE3B,IACE,MAAMlC,QAAiBC,MAAMmD,EAAS,CACpClD,OAAQ,OACRC,QAAS,CACP,eAAgBmD,EAChB,eAAgB,oBAElBW,KAAMC,KAAKC,UAAUJ,KAGvB,IAAK/D,EAASsE,GAAI,CAChB,MAAM,IAAIhE,MAAM,uBAAuBN,EAASuE,SAClD,CACA,MAAM/E,QAAaQ,EAASR,OAC5B,GAAIA,EAAKkG,SAAWC,MAAMC,QAAQpG,EAAKqG,eAAgB,CACrD,IAAIC,EAAMpG,KAAKqG,iBAAiBvG,EAAKqG,eACrCJ,EAAMtC,QACN5B,EAAUsB,UAAUiD,GACpBvE,EAAUW,iBAAiB,MAC3B,OAAO4D,CACT,KAAO,CACL3G,EAAa+D,KAAK,yBACpB,CACF,CAAE,MAAOF,GACPF,QAAQC,IAAI,mCAAoCC,EAClD,CACF,EAEA+C,iBAAkB,SAAUC,GAC1B,MAAMxC,EAAa9D,KAAK0B,KAAK,gBAC7BoC,EAAWC,iBAEXuC,EAAWC,QAAQC,IACjB,MAAMC,EAAazG,KAAK0G,iBAAiBF,EAAK1B,KAAM0B,EAAKG,UACzD7C,EAAWuB,QAAQoB,KAErB,OAAO3C,CACT,EAEA4C,iBAAkB,SAAUE,EAAQD,GAClC,MAAME,EAAiBC,KAAKF,GAC5B,MAAMG,EAAQ,IAAIC,WAAWH,EAAevE,QAC5C,IAAK,IAAI2E,EAAI,EAAGA,EAAIJ,EAAevE,OAAQ2E,IAAK,CAC9CF,EAAME,GAAKJ,EAAeK,WAAWD,EACvC,CACA,MAAME,EAAO,IAAIC,KAAK,CAACL,GAAQ,CAAEM,KAAM,oBACvC,MAAMhH,EAAMiH,IAAIC,gBAAgBJ,GAEhC,MAAMK,EAAiB,IAAItI,IAAIwD,EAAE+E,OAAO,CACtCC,KAAM,sBACNC,QAAS,eACTN,KAAM,cACNO,MAAO,WACL,MAAMC,EAAIC,SAASC,cAAc,KACjCF,EAAEG,KAAO3H,EACTwH,EAAEI,SAAWtB,EACbkB,EAAEK,OACJ,IAGF,OAAO,IAAIhJ,IAAIwD,EAAEyF,MAAM,CACrBC,WAAYzB,EACZ0B,MAAO,OACPC,OAAQ,QACRC,QAAS,CACPf,EACA,IAAItI,IAAIC,GAAGqJ,KAAKC,KAAK,CACnBF,QAAS,gBAAgBlI,yEAG7BqI,WAAY,IAAIxJ,IAAIwD,EAAEiG,aAAa,CAAEC,WAAY,KASrD","ignoreList":[]}