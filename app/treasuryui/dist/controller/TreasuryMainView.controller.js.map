{"version":3,"file":"TreasuryMainView.controller.js","names":["sap","ui","define","Controller","MessageBox","PDFViewer","BusyDialog","MessageToast","extend","onInit","oModel","model","json","JSONModel","this","getView","setModel","onChatCopy","oChatBox","byId","domRef","getDomRef","m","show","message","innerText","navigator","clipboard","writeText","then","catch","err","console","error","onChatExport","async","window","jspdf","html2canvas","jsPDF","userInput","getModel","getProperty","wrapper","document","createElement","style","width","padding","background","fontFamily","position","top","left","body","appendChild","userInputBox","borderRadius","marginBottom","border","headerText","textContent","fontSize","fontWeight","color","userInputText","responseClone","cloneNode","margin","Promise","resolve","requestAnimationFrame","canvas","scale","useCORS","scrollY","windowWidth","scrollWidth","height","scrollHeight","imgData","toDataURL","pdf","pdfWidth","internal","pageSize","getWidth","pdfHeight","getHeight","imgWidth","imgHeight","heightLeft","addImage","addPage","save","removeChild","onfetchCSRF","url","response","fetch","method","headers","token","get","Error","onSelectDocument","oEvent","oMultiBox","getSource","aSelectedItems","getSelectedItems","aFiles","map","element","getText","push","sFormattedPrompt","join","setValue","onUserChat","chatModel","getOwnerComponent","oView","sInput","getValue","isIntellibase","toLowerCase","includes","keywords","isValid","length","isMalicious","some","keyword","toUpperCase","setSubmit","setvisibleResult","information","oBusyDialog","title","text","open","setBusy","resp","onfetchData","setResult","log","close","chatUrl","getBaseUrl","thisUser","payload","csrf","fetchCsrfToken","oContainer","removeAllItems","controller","AbortController","timeout","setTimeout","abort","user","ok","userDetails","bankId","name","JSON","stringify","signal","clearTimeout","status","data","sResponse","FINAL_RESULT","SQL_QUERY","oHtml","FormattedText","htmlText","addItem","onGenerateSummary","aMultiBoxSelectedItems","textArea","oSelectedFile","_callSummaryApi","require","toUrl","credentials","promptMessage","oBusy","success","Array","isArray","summary_files","res","_displayPdfFiles","filesArray","forEach","file","oPdfViewer","_createPdfViewer","filename","base64","byteCharacters","atob","bytes","Uint8Array","i","charCodeAt","blob","Blob","type","URL","createObjectURL","downloadButton","Button","icon","tooltip","press","a","href","download","click","Panel","content","core","HTML","layoutData","FlexItemData","growFactor"],"sources":["TreasuryMainView-dbg.controller.js"],"mappings":"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","ignoreList":[]}