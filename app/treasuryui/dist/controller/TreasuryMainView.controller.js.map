{"version":3,"file":"TreasuryMainView.controller.js","names":["sap","ui","define","Controller","MessageBox","PDFViewer","BusyDialog","MessageToast","extend","onInit","oModel","model","json","JSONModel","this","getView","setModel","getBaseURL","appId","getOwnerComponent","getManifestEntry","appPath","replaceAll","appModulePath","jQuery","getModulePath","onfetchCSRF","async","url","response","fetch","method","headers","token","get","Error","onSelectDocument","oEvent","oMultiBox","getSource","aSelectedItems","getSelectedItems","aFiles","map","element","getText","push","sFormattedPrompt","join","byId","setValue","onUserChat","chatModel","getModel","oView","sInput","getValue","setSubmit","setvisibleResult","oBusyDialog","m","title","text","open","setBusy","Promise","resolve","resp","onfetchData","setResult","console","log","err","error","show","close","chatUrl","csrfUrl","csrf","body","JSON","stringify","prompt","ok","status","data","sResponse","d","chatResponse","result","onGenerateSummary","aMultiBoxSelectedItems","textArea","length","oSelectedFile","_callSummaryApi","promptMessage","oBusy","message","success","Array","isArray","summary_files","res","_displayPdfFiles","filesArray","oContainer","removeAllItems","forEach","file","oPdfViewer","_createPdfViewer","filename","addItem","base64","byteCharacters","atob","bytes","Uint8Array","i","charCodeAt","blob","Blob","type","URL","createObjectURL","source","width","height","showDownloadButton"],"sources":["TreasuryMainView-dbg.controller.js"],"mappings":"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","ignoreList":[]}